%%%%
pick-up

                   <h>アイテムの収得と放棄</h>
<h>アイテムの文字</h>
アイテムの文字を押すことでアイテムを選択できる。
数字をアイテムの文字を入力する前に入力することで量を指定できる。

<h>正規表現</h>
<w>Ctrl-F</w>を押すことで単語(もしくは正規表現)を入力できる。
それに一致するアイテムが選択(既に選択されていた場合は選択解除)される。

<h>カーソル</h>
連続で入力することで素早く複数のアイテムを選択するショートカットがある。
<w>.</w>   アイテムを選択し、カーソルを下に移動する。
<w>'</w>   選択を変更せず、カーソルを下に移動する。
このカーソルは普段表示されない。<w>.</w> か <w>'</w>で表示される。(Webtileでは現在表示されない)

<h>アイテム種別ごとの選択</h>
以下の文字を入力することで特定の種別をまとめて選択できる。
<w>!</w>   薬           <w>(</w>   武器           <w>)</w>   飛び道具の弾    <w>[</w>   防具
<w>/</w>   ワンド       <w>\</w>   ロッド         <w>|</w>   魔法の杖        <w>?</w>   巻物
<w>"</w>   護符         <w>=</w>   指輪           <w>}</w>   その他の道具    <w>:</w> または <w>+</w>   魔法書
<w>%</w>   食料
全体選択:  <w>,</w>   全てを選択     <w>*</w>   全てを反転      <w>-</w>   全てを選択解除
<w>,</w>コマンドは<w>drop_filter</w>オプションを使用し、アイテムの選択の幅を狭めることに注意せよ。
デフォルトでは価値の無いアイテムが<w>drop_filter</w>に指定されている。
%%%%
known-menu

                   <h>Known items menu</h>
<h>Item letters</h>
Pressing an item type's letter key selects that item.

<h>Selecting item types</h>
Items types displayed in grey use the default autopickup options set in your
configuration file. Selecting a type of item overrides those options
(indicated by <w>white</w> text), and toggles the item between the states:
 <w>+</w>  Items of this type will be picked up automatically.
 <w>-</w>  Items of this type will will not be picked up automatically.
Autopickup can also be toggled for all unknown items of a given category.

<h>Category shortcuts</h>
You can quickly select all item types in a given category by pressing:
<w>!</w>   potions      <w>?</w>   scrolls      <w>(</w>   ammunition        <w>"</w>   amulets
<w>=</w>   rings        <w>/</w>   wands        <w>|</w>   magical staves
Global selects:  <w>*</w>   invert all   <w>^</w>   reset all to default

<h>Viewing unknown and known items</h>
<w>\</w> and <w>-</w> toggle between the known and unknown items menus. Note
that none of the above features are available from the unknown items menu.

<h>Restoring autopickup defaults</h>
Pressing <w>Ctrl-D</w> followed by an item letter or a category shortcut
cancels the override and restores the selected item or items to their default
settings.

<h>Regular expressions</h>
You can press <w>Ctrl-F</w> to enter a word (or a regular expression).
All matching items will be selected.

<h>Cursor</h>
There are shortcuts to quickly select several items in succession:
<w>.</w>   selects the next item and moves the cursor down
<w>'</w>   moves the cursor down without changing selection
The cursor is usually hidden; pressing <w>.</w> or <w>'</w> makes it appear.

%%%%
stash-search.prompt

<h>Searching the stash-tracker</h>

You can search for items and dungeon features by name (or a substring of the
name). In the list of search results, you can select a search result by its
hotkey to travel to its location.

Some examples of search strings:
<w>cure mutation</w> find all potions of cure mutation, including potions in shops.
<w>royal</w>         finds every single royal jelly and heaps of royal jellies.
<w>shop</w>          lists all shops. Press <w>?</w> and a shop's letter for the stock.
<w>Lair:2</w>        find everything known to be on Lair:2.
<w>D:[2-4]</w>       finds everything on Dungeon levels 2-4. Regexes are allowed!
              Note that D:[3-10] will not work as intended, since [x-y] is a
              regex character range.
<w>rPois</w>         finds all items with an rPois resistance.
<w>rC\+\+</w>        finds all items with an rC++ resistance.
<w>\+3</w>           finds all items with a +3 enchantment. Note with these that
              the + symbol had to be escaped as \+ due to regex syntax.
<w>Lair.*axe</w> and <w>axe && Lair</w> both show all axes in the Lair.

Some shortcuts:
<w>.</w>             lists everything on your current level.
<w>..</w>            lists all items you know.
<w>0</w> to <w>9</w>        lists all items at the specified waypoint.
<w>*</w>             lists all items at all waypoints.
<w>@(pattern)</w>    lists everything matching (pattern) on your current level.

You can also examine shops and items in the search results by pressing <w>?</w> and
then selecting the hotkey for the search result. This will give a description
of the item or the contents of the shop.

The stash search string is case-insensitive.

<h>Searching by item properties:</h>

You can search for spell names (such as <w>Ignite Poison</w>) to find spellbooks
that contain the spell.

You can search for artefact item properties (such as <w>prevents.*teleport</w>)
to find artefacts that have the property.

You can search by some additional item properties: <w>artefact</w> or <w>artifact</w> will
find identified artefacts, <w>ego</w> or <w>branded</w> will find non-artefacts with a
brand and unidentified items which may be branded, <w>throwable</w> will find things
you can throw, <w>stick</w> will find items that can be used with Sticks to Snakes,
and <w>dropped</w> will find items you have dropped.

Skill names (such as <w>Polearms</w> or <w>Long Blades</w>) will find all weapons that
train that skill. You can also look for <w>melee weapon</w> and <w>ranged weapon</w>.

You can also search by item types such as <w>book</w> or <w>manual</w> or <w>jewellery</w>.
For armour slots, use <w>helmet</w> (all headgear), <w>gloves</w>, <w>shield</w>, and <w>body</w>.
Use <w>armour && !!body</w> to list all armour pieces except for body armour.

<h>Finding Dungeon Features:</h>

You can search for dungeon features by name: all shops will be found by a
search for <w>shop</w> (including shops that do not have "shop" in their name);
other dungeon features can also be found by name: <w>fountain</w>, <w>spear trap</w>,
<w>altar</w>, etc. You can also search for altars by deity name: <w>Zin</w>.

<h>Non-regex operators:</h>

You can use !! to negate a search string, && for a boolean AND, || for
boolean OR, and <<<< >> for grouping.

For instance, to find rings (jewellery) but not ring mail you could use:
<w>ring && !!mail</w>
%%%%
level-map

<h>Level Map ('<w>X</w>' in the main screen):</h>
<w>Esc</w>        : Leave level map (also <w>Space</w> or any unused key).
<w>Dir.</w>       : Move the cursor.
<w>Shift-Dir.</w> : Move the cursor in larger steps (7 by default).
<w>-</w> or <w>+</w>     : Scroll level map 20 grids up or down.
<w>.</w>          : Start travel (also <w>Enter</w> and <w>,</w> and <w>;</w>).
             (Moves cursor to the last travel destination if still on @.)
<w>[</w> or <w>]</w>     : Examine the next higher or lower level
<w>G</w>          : Go to another level by branch and depth
<w>o</w>          : Move the cursor to the next autoexplore target.

<h>Travel exclusions</h>
<w>e</w>          : Create a travel exclusion, change its radius, or remove it.
<w>E</w>          : Cycle through travel exclusions.
<w>Ctrl-E</w>     : Erase all travel exclusions on the level.

<h>Waypoints</h>
<w>Ctrl-W</w>     : Set waypoint to current position.
<w>W</w>          : Cycle through all waypoints on the level.

<h>Cycle through features</h>
<w><<</w> or <w>></w>     : Cycle through up or down stairs.
<w>^</w>          : Cycle through traps.
<w>\</w> or <w>Tab</w>   : Cycle through shops and portals.
<w>I</w>          : Cycle forward through all items.
<w>O</w>          : Cycle backward through all items.
<w>_</w>          : Cycle through altars.

<h>Other</h>
<w>!</w>          : Annotate level.
<w>Ctrl-C</w>     : Clear item and monster memory.
<w>Ctrl-F</w>     : Forget level map.
<w>Ctrl-U</w>     : Restore forgotten level map.{{
if you.wizard() then
    return "\n\n"
          .. "<h>Wizard commands</h>\n"
          .. "<w>T</w>          : Teleport to cursor."
end }}
%%%%
interlevel-travel.branch.prompt

<h>(分岐を選択しての)階層間自動移動:
 ショートカット文字を入力することで、対応する分岐まで移動できる。

 分岐を選択した後、その分岐で到達したい階層の入力が求められる。
 (? を押すことで追加のヘルプが表示される)

 <w>Enter</w>  : 最後に指定した階層移動を再び実行する。
 <w>.</w>      : 現在の分岐の他の階層に移動する。
 <w><<</w>      : 最も近い階段を上る。
 <w>></w>      : 最も近い階段を下る。
 <w>Ctrl-P</w> : ここから上に位置する分岐へと階層を指定して移動する。
 <w>*</w>      : (指定済みのがあれば)中間地点の一覧を見る。
 <w>0</w>-<w>9</w>    : 指定した番号の中間地点に移動する。
%%%%
interlevel-travel.depth.prompt

<h>階層間自動移動 (選択した分岐の指定した階層に移動)
 行きたい階層を入力しEnterを押すか、もしくは以下のコマンドを入力する:
 <w>Enter</w>  : 初期値の階層に移動する。
 <w>0</w>      : 指定した分岐の入口に移動する。
 <w><<</w>      : 初期値を現在から一つ上の階層に変更する。
 <w>></w>      : 初期値を現在から一つ下の階層に変更する。
 <w>-</w> or <w>p</w> : 初期値を上に位置する分岐に変更する。
 <w>$</w>      : 初期値をこの分岐で到達した最も深い階層に変更する。
 <w>^</w>      : 初期値をこの分岐の入口に変更する。
%%%%
butchering

<h>解体/採血<h>
<w>y, c, d</w>: 選択した死体を解体/採血する。
<w>a</w>      : 指定された死体を含む残り全ての死体を解体/採血する。
         採血の場合、血の無い死体は飛ばす。
<w>q</w>      : 何も解体/採血せずコマンドを終了する。
<w>n</w>      : 指定された死体を解体/採血せず、次の死体に移る。
         (一覧にある以外のキーを押した時もこの動作となる。)

<h>タイル版の注意点</h>
タイル版の場合、死体を<w>Shift + 左クリック</w>で解体/採血できる。
%%%%
skill-menu

                               <h>スキル管理</h>
あなたは敵を倒すことによりスキル経験値を得る。(他の行動により、わずかに得ることもある)
このスキル経験値はスキルの訓練に使用される。あなたはこのスキル画面で訓練するスキルを
選択できる。
各スキルはそれを使用できる状況においてのみ訓練できる。
詳しくは下記の｢訓練の制限｣の項を読むこと。

各スキルの文字を押すことにより、スキル訓練の内容を切り替えることができる。

<darkgrey>- 非選択</darkgrey>   スキルは訓練されない。
+ 選択
<w>* 集中訓練</w> スキルは重点的に訓練される。

大文字を入力することで対応するスキルのみを選択し、他のスキルを全て非選択にする。
この操作は1つのスキルだけを訓練したいときに便利である。

スキル訓練には2つのモードがあり、<w>/</w> キーで切り替えできる。
* 自動: あなたの行動によりスキルに振られる経験値が変化する。
* 手動: スキル経験値は全てのアクティブなスキルに均等に割り振られる。

以下の要因によりスキル訓練の成長速度が変化する:
* 種族補正: 種族補正の列に<white>白</white>で表示される。数字が高ければスキルを
            成長させるのに少ない経験値で済む。種族により異なる。
* 相互訓練: 特定のスキルを鍛えることで、関連する別のスキルへの補正を得ることが
            ある。(例えば小剣と長剣スキル、投擲とスリングスキルなど)
            ボーナスを得ているスキルは<blue>青</blue>で表示される。

また、衰弱状態や神の力などによってスキルの数値を直接修正する効果もある。
減少したスキルは<magenta>紫</magenta>で、補強されたスキルは<blue>青</blue>で表示される。

スキル経験値の割り振り率(<brown>茶色</brown>で表示)はスキル訓練に費やされる量に
対する相対値を示している。

スキルの選択以外にも、スキル画面で以下のようなモード切替ができる:

<w>/</w> :   自動/手動訓練を切り替える。
<w>*</w> :   今選択できないスキルを含めて全てのスキルを表示する。
<w>?</w> :   スキルの説明を読む。
<w>_</w> :   スキルの修正を表示/非表示する。

                               <h>訓練の制限</h>

戦闘、投擲、甲冑、躱し身、隠密、徒手格闘、呪文詠唱スキルはいつでも訓練できる。
他のスキルについては以下の通り:

・武器スキルはそれに応じた種別の武器を持ち運ぶ必要がある。
・盾スキルは盾を持ち運ぶか、魔法や神の力により盾を張れる必要がある。
・発動スキルは発動可能なアイテムを持ち運ぶか、ネメレクス・ソベーを信仰する
  必要がある。
・魔術スキルは対応する魔術領域の呪文を学んでいる必要がある。
・死霊術スキルはキクバークッグァを信仰することによっても訓練できる。
・祈祷スキルは神を信仰し能力を得る必要がある。
%%%%
